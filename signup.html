<!DOCTYPE html>
<html lang="en" dir="rtl">
<head>
    <link href=
"https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css"
          rel="stylesheet">
 <link rel="stylesheet" href="./components/styleSignup.css">
</head>
<body>
    <div class="row flex items-space-between justify-space-between ">
    <div class="form_container" >
    <div class="form_container_1">
        <div class="w-full max-w-md bg-white bg-opacity-25 backdrop-filter backdrop-blur-sm bg-clip-padding  rounded-lg shadow-md p-6">
          <h2 class="text-2xl font-bold text-gray-600 mb-4">تسجيل</h2>
          <form class="flex flex-col" id="signupForm">
            <div class="flex space-x-4 mb-4">
              <input
                placeholder=" المستخدم" 
                class="bg-black-700 text-gray-200 border-0 rounded-md p-2 w-1/2 focus:bg-gray-600 focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150"
                type="text"
                id="signupUserName" required
              />
            </div>
            <input
              placeholder="البريد الالكتروني" 
              class="bg-black-700 text-gray-200 border-0 rounded-md p-2 mb-4 focus:bg-gray-600 focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150"
              type="email"
              id="signupEmail" required
            />
            <input
              placeholder="كلمه المرور" 
              class="bg-black-700 text-gray-200 border-0 rounded-md p-2 mb-4 focus:bg-gray-600 focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150"
              type="password"
              id="signupPassword" required
            />
            <input
              placeholder="تاكيد كلمه المرور" 
              class="bg-black-700 text-gray-500 border-0 rounded-md p-2 mb-4 focus:bg-gray-600 focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150"
              type="password"
              id="signupConfirmPassword" required
            />
            <label class="text-sm mb-2 text-gray-500 cursor-pointer" for="gender">
              الجنس
            </label>
            <select
              class="bg-black-700 text-gray-500 border-0 rounded-md p-2 mb-4 focus:bg-gray-600 focus:outline-none focus:ring-1 focus:ring-blue-500 transition ease-in-out duration-150"
              id="gender"   required

            >
              <option value="male">ذكر</option>
              <option value="female">انثى</option>
              
            </select>
            <p class="text-black-200 mt-4">
                بالفعل لدى حســاب ? 
              <a class="text-sm text-black font-bold hover:text-indigo-500 -200 hover:underline mt-4" href="./signin.html"
                >تسجيل دخول</a
              >
            </p>
            <button
              class="bg-gradient-to-r from-indigo-500 to-blue-500 text-white font-bold py-2 px-4 rounded-md mt-4 hover:bg-indigo-600 hover:to-blue-600 transition ease-in-out duration-150"
              type="submit"
              
            >
            تسجيل
            </button>
          </form>
        </div>
        <!--- bg-gradient-to-r from-indigo-500 to-blue-500 -->
        <div class="w-full max-w-md p-6">
          <p class="text-yellow mt-200  text-center ">By signing up, you agree to the terms of use and privacy policy.</p>
          <p class="text-black mt-200  text-center">© 2023 Sarahah. All rights reserved.</p>
        </div>
      </div>
    </div>
      <div class="containerImageRight"> <div class="w-full max-w-md  backdrop-filter backdrop-blur-sm bg-clip-padding rounded-lg center  ">
        <img src="./assets/Signup.gif" alt="  " srcset="  ">
      </div></div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script >
        $(document.addEventListener("DOMContentLoaded", function(event) {
            var form = document.getElementById("signupForm");
            form.addEventListener("submit", function(event) {
              
                event.preventDefault();
                var userName = $("#signupUserName").val();
                var password = $("#signupPassword").val();
                var confirmPassword = $("#signupConfirmPassword").val();
                var email = $("#signupEmail").val();
                var gender = $("#signupGander").val();
            });
            const myHeaders = new Headers();
myHeaders.append("Content-Type", "application/json");

const raw = JSON.stringify({
  "userName": userName,
  "email": email,
  "password": password,
  "cPassword": cPassword,
  "gender": gender
});

const requestOptions = {
  method: "POST",
  headers: myHeaders,
  body: raw,
  redirect: "follow"
};

fetch("https://saraha-gilt.vercel.app/auth/signup", requestOptions)
  .then((response) => response.text())
  .then((result) => console.log(result))
  .catch((error) => console.error(error));
  try { 
    if (response.status === 200) {
        alert("Login successful ☺☻");
        window.location.href = "./test.html";
    } else {
        alert("Invalid username or password");
        window.location.href = "./signup.html";
    }
  } catch (error) {
    alert("Invalid username or password" + error.message);
  }
        }))
    </script>
</body>
</html>